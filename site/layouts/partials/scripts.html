{{- $js_filename := "bootstrap.bundle.js" -}}

{{- if eq (getenv "HUGO_ENV") "production" -}}
{{- $js_filename = "bootstrap.bundle.min.js" -}}
{{- end -}}

{{- $js := resources.Get (printf "docs/%s/dist/js/%s" $.Site.Params.docs_version $js_filename) -}}

<script src="{{ $js.RelPermalink }}" integrity="{{ ($js | fingerprint "sha384").Data.Integrity }}" crossorigin="anonymous"></script>

{{ if (or (eq .Page.Layout "docs") (eq .Page.Layout "single")) -}}
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
{{- end }}

{{- if eq (getenv "HUGO_ENV") "production" -}}
  <script src="/docs/{{ .Site.Params.docs_version }}/assets/js/docs.min.js"></script>
{{- else -}}
  <script src="/docs/{{ .Site.Params.docs_version }}/assets/js/vendor/anchor.min.js"></script>
  <script src="/docs/{{ .Site.Params.docs_version }}/assets/js/vendor/clipboard.min.js"></script>
  <script src="/docs/{{ .Site.Params.docs_version }}/assets/js/vendor/bs-custom-file-input.min.js"></script>
  <script src="/docs/{{ .Site.Params.docs_version }}/assets/js/src/application.js"></script>
  <script src="/docs/{{ .Site.Params.docs_version }}/assets/js/src/search.js"></script>
{{- end -}}
